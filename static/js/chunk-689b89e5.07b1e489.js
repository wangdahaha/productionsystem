(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-689b89e5"],{5432:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"workshop-management"},[s("div",{staticClass:"top-info"},[s("div",{staticClass:"current-time"},[t._v(t._s(t.currentTime))]),s("div",{staticClass:"tagswork"},[t._v("当前班次：早班(08:00-16:00)")])]),s("div",{staticClass:"table-container"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.productionLines}},[s("el-table-column",{attrs:{prop:"line",label:"生产线"}}),s("el-table-column",{attrs:{prop:"output",label:"实际产量"}}),s("el-table-column",{attrs:{prop:"completionRate",label:"目标完成率"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"completion-rate"},[s("span",[t._v(t._s(e.row.completionRate))]),s("span",{class:t.getCompletionRateTrendClass(e.row.completionRateTrend)},[t._v(" "+t._s(e.row.completionRateTrend)+" ")])])]}}])}),s("el-table-column",{attrs:{prop:"equipmentStatus",label:"设备状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-tag",{attrs:{type:t.getEquipmentStatusType(e.row.equipmentStatus)}},[t._v(" "+t._s(e.row.equipmentStatus)+" ")])]}}])}),s("el-table-column",{attrs:{prop:"yieldRate",label:"良率"}}),s("el-table-column",{attrs:{prop:"trend",label:"趋势"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("img",{staticClass:"trend-chart",attrs:{src:a("cd2e"),alt:"趋势图"}})]}}])})],1)],1),s("div",{staticClass:"content-area"},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("el-card",[s("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("异常预警")]),s("span",{staticClass:"alert-count"},[t._v("4个预警")])]),s("div",{staticClass:"alert-list"},t._l(t.alerts,(function(e){return s("el-alert",{key:e.id,staticStyle:{height:"80px","margin-bottom":"24px"},attrs:{title:e.title,description:e.desc,type:t.getAlertType(e.type),"show-icon":"",closable:!1}})})),1)])],1),s("el-col",{attrs:{span:8}},[s("el-card",[s("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("实时产量")])]),s("div",{staticClass:"production-stats"},[s("div",{staticClass:"total-output"},[t._v(t._s(t.totalOutput))]),s("div",{staticClass:"output-rate"},[t._v("目标完成率"+t._s(t.outputRate)+"%")]),s("div",{staticClass:"chart-container"},[s("div",{staticClass:"production-chart",attrs:{id:"productionChart"}})])])])],1),s("el-col",{attrs:{span:8}},[s("el-card",[s("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("生产任务")]),s("el-button",{staticClass:"add-task-btn",attrs:{type:"primary",size:"small"}},[t._v("+ 添加任务")])],1),s("div",{staticClass:"task-list",staticStyle:{height:"310px"}},t._l(t.tasks,(function(e){return s("div",{key:e.id,staticClass:"task-item"},[s("div",{staticClass:"task-info"},[s("div",{staticClass:"task-product"},[t._v(" 产品型号: "+t._s(e.product)+" "),s("el-tag",{staticClass:"task-status-tag",attrs:{type:e.progress>0?"success":"warning",size:"mini"}},[t._v(" "+t._s(e.progress>0?"进行中":"待开始")+" ")])],1),s("div",{staticClass:"task-quantity"},[t._v("计划产量: "+t._s(e.quantity)+"件")])]),s("div",{staticClass:"task-progress"},[s("el-progress",{staticStyle:{width:"90%"},attrs:{percentage:e.progress,status:e.status}}),s("div",{staticClass:"progress-text"},[t._v(t._s(e.progress)+"%")])],1)])})),0)])],1)],1)],1)])},i=[],r=(a("d81d"),a("2ca0"),a("a573"),a("313e")),n={data:function(){return{currentTime:"",refreshTime:"2025-03-18 10:00:00",productionLines:[{line:"生产线1",output:"847件",completionRate:"94.1%",completionRateTrend:"+0.5%",equipmentStatus:"正常运行",yieldRate:"98.2%"},{line:"生产线2",output:"730件",completionRate:"82.3%",completionRateTrend:"-0.4%",equipmentStatus:"待机",yieldRate:"98.7%"},{line:"生产线3",output:"695件",completionRate:"78.4%",completionRateTrend:"-1.2%",equipmentStatus:"故障",yieldRate:"96.8%"},{line:"生产线4",output:"847件",completionRate:"89.2%",completionRateTrend:"-0.8%",equipmentStatus:"维护中",yieldRate:"99.1%"}],alerts:[{id:1,type:"error",title:"2号生产线供应延误",desc:"预计延误1小时"},{id:2,type:"warning",title:"3号设备维护提醒",desc:"今日16:00-18:00"},{id:3,type:"info",title:"原材料不足",desc:"A001物料剩余50kg"}],totalOutput:"2,847",outputRate:"84.5",tasks:[{id:1,product:"MK-20232A",quantity:"3,000",progress:75,status:"success"},{id:2,product:"MK-20232B",quantity:"3,600",progress:0,status:"exception"}],productionData:[{time:"08:00",value:300},{time:"09:00",value:450},{time:"10:00",value:420},{time:"11:00",value:580},{time:"12:00",value:620},{time:"13:00",value:750},{time:"14:00",value:847}]}},mounted:function(){var t=this;this.updateCurrentTime(),setInterval((function(){return t.updateCurrentTime()}),1e3),this.$nextTick((function(){t.initProductionChart()}))},beforeDestroy:function(){this.productionChart&&this.productionChart.dispose()},methods:{updateCurrentTime:function(){var t=new Date;this.currentTime=t.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})},getCompletionRateTrendClass:function(t){return t.startsWith("+")?"trend-up":"trend-down"},getEquipmentStatusType:function(t){switch(t){case"正常运行":return"success";case"待机":return"warning";case"故障":return"danger";case"维护中":return"info";default:return"default"}},getAlertType:function(t){switch(t){case"error":return"error";case"warning":return"warning";case"info":return"info";default:return"info"}},initProductionChart:function(){var t=this;try{var e=document.getElementById("productionChart");if(!e)return void console.error("图表容器不存在");this.productionChart=r["b"](e);var a={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},grid:{left:"3%",right:"4%",bottom:"3%",top:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:this.productionData.map((function(t){return t.time}))}],yAxis:[{type:"value"}],series:[{name:"产量",type:"line",stack:"Total",areaStyle:{opacity:.3},emphasis:{focus:"series"},data:this.productionData.map((function(t){return t.value})),smooth:!0,lineStyle:{width:3},itemStyle:{color:"#1890ff"}}]};this.productionChart.setOption(a),window.addEventListener("resize",(function(){t.productionChart&&t.productionChart.resize()})),console.log("图表初始化成功")}catch(s){console.error("图表初始化失败:",s)}}}},o=n,l=(a("7d2c"),a("2877")),c=Object(l["a"])(o,s,i,!1,null,"bb2a92cc",null);e["default"]=c.exports},"6b92":function(t,e,a){},"7d2c":function(t,e,a){"use strict";a("6b92")},cd2e:function(t,e,a){t.exports=a.p+"static/img/Chart1.e8a3f7e9.png"}}]);